# –§–∞–∑—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## –§–∞–∑–∞ 1: Discovery & File Inventory

**–¶–µ–ª—å:** –°–æ–±—Ä–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Ñ–∞–π–ª–æ–≤, –∏—Å–∫–ª—é—á–∞—è —Ç—è–∂–µ–ª—ã–µ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

1. **Glob Pattern:** `**/*.md`, `**/*.yaml`, `**/*.yml`, `**/*.txt`
2. **–ò—Å–∫–ª—é—á–µ–Ω–∏—è (Blacklist):**
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ: `node_modules/`, `.git/`, `.gradle/`, `build/`, `dist/`, `vendor/`, `.claude/`
   - –ë–∏–Ω–∞—Ä–Ω—ã–µ/Lock: `*.lock`, `*.bin`, `*.jar`, `*.png`, `*.jpg`
   - **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –æ—Ç—á–µ—Ç—ã (–í–ê–ñ–ù–û):** `audit/` (—á—Ç–æ–±—ã –Ω–µ –ª–∏–Ω—Ç–∏—Ç—å –æ—Ç—á–µ—Ç—ã –ø—Ä–æ—à–ª—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤)
   - **–ê—Ä—Ö–∏–≤/–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:** `specifications/` (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ), `legacy/`
3. **Smart Filtering:**
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–¥–∞–ª `Scope`, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ `.github/` (–æ–±—ã—á–Ω–æ —ç—Ç–æ —à–∞–±–ª–æ–Ω—ã)
4. **Inventory Step:**
   - –ò—Å–ø–æ–ª—å–∑—É–π `wc -l` –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Ç—Ä–æ–∫ (–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô `read` –¥–ª—è —ç—Ç–æ–≥–æ —à–∞–≥–∞, —ç–∫–æ–Ω–æ–º—å —Ç–æ–∫–µ–Ω—ã).
   - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–π —Ñ–∞–π–ª—ã –ø–æ –ø—É—Ç–∏.
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:
     - Path (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π)
     - Line count (`wc -l`)
     - Type classification (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `references/check-rules.md` ¬ß 1)
5. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:

```markdown
| # | –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –¢–∏–ø | Status |
|---|------|------:|-----|--------|
| 1 | CLAUDE.md | 107 | CLAUDE.md | ‚Äî |
```

**Checkpoint:** –í—Å–µ —Ñ–∞–π–ª—ã –≤ scope –Ω–∞–π–¥–µ–Ω—ã, line counts –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã.

---

## –§–∞–∑–∞ 2: Size Analysis

**–¶–µ–ª—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–∞–π–ª—ã, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏.

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Ä–æ–≥–∏ –∏–∑ `references/check-rules.md` ¬ß 1
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è:
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å applicable threshold –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞
   - –°—Ä–∞–≤–Ω–∏—Ç—å line count —Å –ø–æ—Ä–æ–≥–∞–º–∏
   - –ü—Ä–∏—Å–≤–æ–∏—Ç—å severity: **OK** / **WARNING** / **CRITICAL**
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É Status –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ

**–§–æ—Ä–º—É–ª–∞:**
```
–ï—Å–ª–∏ lines > CRITICAL threshold ‚Üí CRITICAL
–ï—Å–ª–∏ lines > WARNING threshold ‚Üí WARNING
–ò–Ω–∞—á–µ ‚Üí OK
```

---

## –§–∞–∑–∞ 3: Structure Analysis

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ .md —Ñ–∞–π–ª–∞:

**3.1 Heading Hierarchy**
- –ò–∑–≤–ª–µ—á—å –≤—Å–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (`# `, `## `, `### `, ...)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∏ —É—Ä–æ–≤–Ω–µ–π: H1‚ÜíH3 (–º–∏–Ω—É—è H2) ‚Üí **CRITICAL**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª—É–±–∏–Ω—É: >H4 ‚Üí **INFO** "Consider restructuring"

**3.2 Section Balance**
- –ü–æ—Å—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- –ï—Å–ª–∏ –æ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è > 40% –æ—Ç –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ ‚Üí **WARNING**

**3.3 Empty Sections**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±–µ–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–æ–ª—å–∫–æ whitespace) ‚Üí **WARNING**

**3.4 TOC Check**
- –§–∞–π–ª >200 —Å—Ç—Ä–æ–∫ –±–µ–∑ `## Table of Contents`, `## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ`, `## TOC` ‚Üí **INFO**

**3.5 Readability**
- Wall-of-text: >20 —Å—Ç—Ä–æ–∫ –ø–æ–¥—Ä—è–¥ –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤/—Å–ø–∏—Å–∫–æ–≤/–ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫/code blocks ‚Üí **WARNING**
- –°—Ç—Ä–æ–∫–∏ >200 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí **INFO**

---

## –§–∞–∑–∞ 4: Cross-File Duplicate Detection

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏. –ö–ª—é—á–µ–≤–∞—è —Ñ–∞–∑–∞.

### 4.1 Block Extraction

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑–≤–ª–µ—á—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏:
- –¢–∞–±–ª–∏—Ü—ã (–æ—Ç `|` –¥–æ –∫–æ–Ω—Ü–∞ —Ç–∞–±–ª–∏—Ü—ã)
- Code blocks (–æ—Ç ``` –¥–æ ```)
- –°–ø–∏—Å–∫–∏ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å `- `, `* `, `1. `)
- –ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã (>3 —Å—Ç—Ä–æ–∫ –ø–æ–¥—Ä—è–¥)

### 4.2 Known Pattern Matching (–±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ö–æ–¥)

–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ `references/check-rules.md` ¬ß 2.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ KP-1..KP-5:

1. Grep –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ
2. –°–æ–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã —Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º
3. –ï—Å–ª–∏ —Ñ–∞–π–ª–æ–≤ ‚â•2 ‚Üí –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### 4.3 Heuristic Cross-Comparison

**–í–ê–ñ–ù–û:** –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¢–û–õ–¨–ö–û –¥–ª—è —Ñ–∞–π–ª–æ–≤, –ø–æ–ø–∞–≤—à–∏—Ö –≤ –æ–¥–∏–Ω –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ —à–∞–≥–µ 4.2 (Grep match). –ù–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø–æ–ª–Ω–æ–µ –ø–æ–ø–∞—Ä–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä–∏—Å–∫ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–Ω–æ–≥–æ –≤–∑—Ä—ã–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤).

–î–ª—è —Ç–∞–±–ª–∏—Ü (–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞):
1. –°—Ä–∞–≤–Ω–∏—Ç—å header rows (—Å—Ç—Ä–æ–∫–∏ —Å `|`)
2. –ï—Å–ª–∏ headers —Å–æ–≤–ø–∞–¥–∞—é—Ç >70% ‚Üí —Å—Ä–∞–≤–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
3. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç >70% ‚Üí **WARNING** near-duplicate

–î–ª—è code blocks –∏ —Å–ø–∏—Å–∫–æ–≤ (–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞):
1. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `references/check-rules.md` ¬ß 5
2. Exact match ‚â•5 —Å—Ç—Ä–æ–∫ ‚Üí **CRITICAL**
3. Exact match 3-5 —Å—Ç—Ä–æ–∫ ‚Üí **WARNING**

### 4.4 Intra-file Duplicates

–í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–µ–∫—Ü–∏–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ + –ø–æ—Ö–æ–∂–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç)
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–∞–±–ª–∏—Ü—ã
- Copy-paste –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã

### 4.5 SSOT Owner Assignment

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ `references/check-rules.md` ¬ß 3
2. –ù–∞–∑–Ω–∞—á–∏—Ç—å SSOT Owner
3. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é: "–û—Å—Ç–∞–≤–∏—Ç—å –≤ {Owner}, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–º–µ–Ω–∏—Ç—å —Å—Å—ã–ª–∫–æ–π"

---

## –§–∞–∑–∞ 5: Content Hygiene

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.

**5.1 Markers**
- `TODO`, `FIXME`, `HACK`, `XXX`, `TEMP` ‚Üí **INFO**

**5.2 Broken Internal Links**
- –ù–∞–π—Ç–∏ –≤—Å–µ `[text](path)` –≥–¥–µ path ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ ‚Üí –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí **CRITICAL**
- –ü—É—Å—Ç—ã–µ —Å—Å—ã–ª–∫–∏ `[text]()` –∏–ª–∏ `[](path)` ‚Üí **WARNING**

**5.3 Stale Dates**
- –î–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD —Å—Ç–∞—Ä—à–µ 6 –º–µ—Å—è—Ü–µ–≤ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã ‚Üí **INFO** "Potentially stale"

**5.4 Diataxis Type Mix**
- –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã –∏–∑ `references/check-rules.md` ¬ß 4
- –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Ä–∫–µ—Ä—ã ‚â•2 —Ç–∏–ø–æ–≤ ‚Üí **INFO**

---

## –§–∞–∑–∞ 6: Report Generation

**–¶–µ–ª—å:** –°–æ–±—Ä–∞—Ç—å –≤—Å–µ findings –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç.

### 6.2 History Append

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞ ‚Äî append —Å—Ç—Ä–æ–∫—É –≤ `audit/audit-history.md`:

```
| {YYYY-MM-DD} | /doc-lint | {scope} | {Health Score}/100 | {CRITICAL} | {WARNING} | {INFO} | {—Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ} | {–∫—Ä–∞—Ç–∫–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ} |
```

- Score = Health Score –∏–∑ —Ñ–æ—Ä–º—É–ª—ã `100 - (CRITICAL x 15) - (WARNING x 5) - (INFO x 0.5)`
- –¢–µ—Å—Ç—ã = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ï—Å–ª–∏ —Ñ–∞–π–ª `audit/audit-history.md` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏–∑ —à–∞–±–ª–æ–Ω–∞

### 6.3 Safe Fix Script Generation

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Bash-—Å–∫—Ä–∏–ø—Ç `audit/safe-fix.sh` —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏.

**Safe (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ):**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `## Table of Contents` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ —Ñ–∞–π–ª >200 —Å—Ç—Ä–æ–∫)
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤-–∑–∞–≥–ª—É—à–µ–∫ –¥–ª—è –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫ (–ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö `# TODO: Content needed`)
- –£–¥–∞–ª–µ–Ω–∏–µ trailing spaces (–ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫)

**Manual (—Ç—Ä–µ–±—É—é—Ç —á–µ–ª–æ–≤–µ–∫–∞):**
- –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- –†–∞–∑–±–∏–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —á–∞—Å—Ç–∏
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
1. Shebang `#!/usr/bin/env bash`
2. Safety header —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
3. Dry-run mode –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ñ–ª–∞–≥ `--apply` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è)
4. –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –∏ echo –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```bash
#!/usr/bin/env bash
set -euo pipefail

echo "üîß Safe Fix Script for Doc-Lint Report"
echo "Run with --apply to execute changes"

DRY_RUN=true
[[ "${1:-}" == "--apply" ]] && DRY_RUN=false

# Fix 1: Add TOC to large files
if [ "$DRY_RUN" = false ]; then
  # actual fix command
else
  echo "[DRY-RUN] Would add TOC to file.md"
fi
```

---

## –§–∞–∑–∞ 7: Generate Safe-Fix Script

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å `audit/safe-fix.sh`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞–¥–µ–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `audit/safe-fix.sh` —Å shebang `#!/usr/bin/env bash` –∏ `set -euo pipefail`.
2. **–õ–æ–≥–∏–∫–∞ –¥–ª—è TOC (–û–≥–ª–∞–≤–ª–µ–Ω–∏–π):**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —É—Ç–∏–ª–∏—Ç—ã `.claude/scripts/generate-toc.sh`.
   - –ï—Å–ª–∏ —É—Ç–∏–ª–∏—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç –∫–æ–º–∞–Ω–¥—É –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–π —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤, –≥–¥–µ –Ω–∞–π–¥–µ–Ω Warning "No TOC".
     –ü—Ä–∏–º–µ—Ä: `.claude/scripts/generate-toc.sh "$file" || echo "‚ö†Ô∏è  Failed to generate TOC for $file"`
   - –ï—Å–ª–∏ —É—Ç–∏–ª–∏—Ç—ã –ù–ï–¢: –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤—Å—Ç–∞–≤–∫–∏ *—Ç–æ–ª—å–∫–æ* –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Å—Ç–æ–≥–æ `sed`.
     –ü—Ä–∏–º–µ—Ä: –≤—Å—Ç–∞–≤–∏—Ç—å `## Table of Contents\n\n*TODO: Auto-generate TOC*\n` –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ H1.
3. **–õ–æ–≥–∏–∫–∞ –¥–ª—è –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫:**
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –±–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏ (CRITICAL), –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `mkdir -p $(dirname path/to/missing.md) && touch path/to/missing/file.md` –∏ `echo "# TODO: Created by doc-lint" > ...`.
4. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (`chmod +x`).

**–í–∞–∂–Ω–æ:** –ù–µ –ø—ã—Ç–∞–π—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–π Bash-–∫–æ–¥ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Markdown –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π –≤–Ω–µ—à–Ω—é—é —É—Ç–∏–ª–∏—Ç—É (`.claude/scripts/generate-toc.sh`) –∏–ª–∏ –æ—Å—Ç–∞–≤–ª—è–π —ç—Ç—É –∑–∞–¥–∞—á—É IDE (—á–µ—Ä–µ–∑ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä).

**Checkpoint:** –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω, –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∞–≤–∞ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ.
